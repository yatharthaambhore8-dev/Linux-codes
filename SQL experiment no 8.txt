Objective:
To understand how SQL injection works by setting up a simple web server and database, and
to observe how improper input handling can allow unauthorized access, highlighting the
importance of secure coding practices in web applications.


Theory:
SQL injection is a web security vulnerability where attackers manipulate input
fields to execute unauthorized SQL commands on a database. It occurs when user
inputs are directly embedded into queries without validation. Preventing it requires
input sanitization, prepared statements, and parameterized queries to protect
sensitive data and application integrity.


commands :

python3 --version
sqlite3 --version
pip3 --version
cd Desktop
mkdir sql_injection_demo
touch setup_db.py
nano setup_db.py

code:
import sqlite3
conn = sqlite3.connect('test.db')
c = conn.cursor()
c.execute('''
    CREATE TABLE users (
        id INTEGER PRIMARY KEY,
        username TEXT,
        password TEXT
    )
''')
# Add sample data
c.execute("INSERT INTO users (username, password) VALUES ('admin', 'admin123')")
c.execute("INSERT INTO users (username, password) VALUES ('user', 'user123')")
conn.commit()
conn.close()
print("Database setup complete!")

CRTL O + CRTL Z 

python setup_db.py
nano app.py

code :

from flask import Flask, request
import sqlite3
app = Flask(__name__)
@app.route('/')
def home():
    return '''
    <h1>Login</h1>
    <form method="POST" action="/login">
        Username: <input name="username"><br>
        Password: <input name="password"><br>
        <input type="submit">
    </form>
    '''
@app.route('/login', methods=['POST'])
def login():
    username = request.form['username']
    password = request.form['password']
    # WARNING: vulnerable to SQL injection
    conn = sqlite3.connect('test.db')
    c = conn.cursor()
    query = f"SELECT * FROM users WHERE username='{username}' AND password='{password}'"
    c.execute(query)
    result = c.fetchone()
    conn.close()
    if result:
        return f"<h2>Welcome {username}!</h2>"
    else:
        return "<h2>Login Failed!</h2>"
if __name__ == "__main__":
    app.run(debug=True)

CRTL O + CRTL Z

python app.py
